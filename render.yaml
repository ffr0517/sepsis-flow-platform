services:
  - type: web
    name: sepsis-flow-orchestrator
    runtime: docker
    plan: free
    dockerfilePath: ./services/orchestrator-api/api/Dockerfile
    envVars:
      - key: DAY1_API_BASE_URL
        value: https://sepsis-flow-d1-api.onrender.com
      - key: DAY2_API_BASE_URL
        value: https://sepsis-flow-platform.onrender.com
      - key: REQUEST_TIMEOUT_SECONDS
        value: 120
      - key: WARMUP_TIMEOUT_SECONDS
        value: 90
      - key: WARMUP_POLL_SECONDS
        value: 3
      - key: WARMUP_REQUEST_TIMEOUT_SECONDS
        value: 60
      - key: DOWNSTREAM_RETRY_ATTEMPTS
        value: 3
      - key: DOWNSTREAM_RETRY_DELAY_SECONDS
        value: 2
      - key: CORS_ALLOW_ORIGINS
        sync: false

  - type: web
    name: sepsis-flow-web-app
    runtime: static
    rootDir: services/web-app
    staticPublishPath: .
    pullRequestPreviewsEnabled: false
    buildCommand: ""
